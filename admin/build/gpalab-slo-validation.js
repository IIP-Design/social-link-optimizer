(()=>{"use strict";const e=()=>document.getElementById("gpalab-slo-validation"),t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.innerHTML="",e.classList=n,t&&n&&e.appendChild(t)},n=(e,t)=>{let n;return function(){for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];const o=()=>e.apply(this,l);clearTimeout(n),n=setTimeout(o,t)}},a=window.wp.i18n,l=()=>document.querySelectorAll('[aria-invalid="true"]'),i=e=>e.match(/(gpalab-slo-settings\[([0-9]|[0-9][0-9])\]\[title\])/),o=()=>{const e=l();if(!e.length)return;const t=document.createElement("div"),n=document.createElement("p"),o=document.createElement("ul"),s="Please complete the following required field",r=e.length>1?(0,a.__)(`${s}s`,"gpalab-slo"):(0,a.__)(s,"gpalab-slo");return n.textContent=r,e.forEach((e=>{var t;const n=document.createElement("li"),l=(null==e||null===(t=e.name)||void 0===t?void 0:t.split("_"))||[],s=i(e.name)?(0,a.__)("Mission name","gpalab-slo"):l[l.length-1];s&&(n.textContent=s,o.appendChild(n))})),t.appendChild(n),t.appendChild(o),t},s=n=>{const{target:l}=n;l.setAttribute("aria-invalid","true"),(n=>{const l=(e=>{let t=(0,a.__)("Please provide a value for this field.","gpalab-slo");switch(e){case(i(e)||{}).input:t=(0,a.__)("Please provide a mission name.","gpalab-slo");break;case"gpalab_slo_mission":t=(0,a.__)("Please select a mission.","gpalab-slo");break;case"gpalab_slo_link":t=(0,a.__)("Please enter a URL.","gpalab-slo");break;case"post_title":t=(0,a.__)("Please enter a title.","gpalab-slo")}return t})(n.name),s=o();n.setCustomValidity(l);const r=e();t(r,s,"notice notice-error gpalab-slo")})(l)},r=n=>{const{target:a}=n,i=!!a.attributes.getNamedItem("required");if(""===a.value.trim()||!i)return;a.removeAttribute("aria-invalid"),a.setCustomValidity(""),a.checkValidity();const s=e();t(s,null);const r=l();if(null!=r&&r.length){const e=o();t(s,e,"notice notice-error gpalab-slo")}};(e=>{if("loading"!==document.readyState)return e();document.addEventListener("DOMContentLoaded",e)})((()=>{(()=>{const e=document.getElementById("post"),t=document.createElement("div");t.setAttribute("id","gpalab-slo-validation"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),e.insertAdjacentElement("beforebegin",t)})(),(()=>{const e=document.getElementById("title-prompt-text");e&&(e.textContent+=" (required)")})(),(e=>{const t=document.querySelector('[name="post_title"]');t&&t.setAttribute("required","")})(),(()=>{const e=document.getElementById("post"),t=n(r,500);e.addEventListener("input",t),e.addEventListener("invalid",s,!0)})()}))})();